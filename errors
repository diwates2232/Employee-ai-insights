// src/App.js

import React, { useEffect, useState } from 'react';
import { getLiveOccupancy } from './api'; // âœ… Correct relative import
import SummaryChart from './components/SummaryChart';
import ZoneDetailsTable from './components/ZoneDetailsTable';
import './App.css';

function App() {
  const [summaryData, setSummaryData] = useState([]);
  const [detailsData, setDetailsData] = useState({});

  useEffect(() => {
    getLiveOccupancy()
      .then(res => {
        const data = res.data;
        setSummaryData(data.summary || []);
        setDetailsData(data.details || {});
      })
      .catch(err => console.error('Occupancy fetch error:', err));
  }, []);

  return (
    <div className="App">
      <header className="App-header">
        <h1>Live Occupancy Dashboard</h1>
      </header>
      <main>
        <section>
          <h2>Occupancy Summary</h2>
          <SummaryChart summary={summaryData} />
        </section>
        <section>
          <h2>Zone Details</h2>
          <ZoneDetailsTable data={detailsData} />
        </section>
      </main>
    </div>
  );
}

export default App;











import axios from 'axios';

export function getLiveOccupancy() {
  return axios.get('http://localhost:5000/api/live-occupancy');
}





// src/App.js

import React, { useEffect, useState } from 'react';
import { getLiveOccupancy } from './api'; // make sure this path is correct
import SummaryChart from './components/SummaryChart';
import ZoneDetailsTable from './components/ZoneDetailsTable';
import './App.css';

function App() {
  const [summaryData, setSummaryData] = useState([]);
  const [detailsData, setDetailsData] = useState({});

  useEffect(() => {
    getLiveOccupancy()
      .then(res => {
        const data = res.data;
        setSummaryData(data.summary || []);
        setDetailsData(data.details || {});
      })
      .catch(err => console.error('Occupancy fetch error:', err));
  }, []);

  return (
    <div className="App">
      <header className="App-header">
        <h1>Live Occupancy Dashboard</h1>
      </header>
      <main>
        <section>
          <h2>Occupancy Summary</h2>
          <SummaryChart summary={summaryData} />
        </section>
        <section>
          <h2>Zone Details</h2>
          <ZoneDetailsTable data={detailsData} />
        </section>
      </main>
    </div>
  );
}

export default App;








import React, { useEffect, useState } from 'react';
import { getLiveOccupancy } from './api'; // Correct path
import SummaryChart from './components/SummaryChart';
import ZoneDetailsTable from './components/ZoneDetailsTable';
import './App.css';

function App() {
  const [summaryData, setSummaryData] = useState([]);
  const [detailsData, setDetailsData] = useState({});

  useEffect(() => {
    getLiveOccupancy()
      .then(res => {
        const data = res.data;
        setSummaryData(data.summary || []);
        setDetailsData(data.details || {});
      })
      .catch(err => console.error('Occupancy fetch error:', err));
  }, []);

  return (
    <div className="App">
      <header className="App-header">
        <h1>Live Occupancy Dashboard</h1>
      </header>
      <main>
        <section>
          <h2>Occupancy Summary</h2>
          <SummaryChart summary={summaryData} />
        </section>
        <section>
          <h2>Zone Details</h2>
          <ZoneDetailsTable data={detailsData} />
        </section>
      </main>
    </div>
  );
}

export default App;













import React, { useEffect, useState } from 'react';
import { getLiveOccupancy } from './api'; // adjust path if needed
import SummaryChart from './components/SummaryChart';
import ZoneDetailsTable from './components/ZoneDetailsTable';
import './App.css';

function App() {
  const [summaryData, setSummaryData] = useState([]);
  const [detailsData, setDetailsData] = useState({});

  useEffect(() => {
    getLiveOccupancy()
      .then(res => {
        const data = res.data;
        setSummaryData(data.summary || []);
        setDetailsData(data.details || {});
      })
      .catch(err => console.error('Occupancy fetch error:', err));
  }, []);

  return (
    <div className="App">
      <header className="App-header">
        <h1>Live Occupancy Dashboard</h1>
      </header>
      <main>
        <section>
          <h2>Occupancy Summary</h2>
          <SummaryChart summary={summaryData} />
        </section>
        <section>
          <h2>Zone Details</h2>
          <ZoneDetailsTable data={detailsData} />
        </section>
      </main>
    </div>
  );
}

export default App;








i have upadte api.js file as above once check App.js file carefully and if nedded give me updated js file carefully.

import React, { useEffect, useState } from 'react';
import SummaryChart from './components/SummaryChart';
import ZoneDetailsTable from './components/ZoneDetailsTable';
import './App.css';

function App() {
  const [summaryData, setSummaryData] = useState([]);
  const [detailsData, setDetailsData] = useState({});

  useEffect(() => {
    fetch('http://localhost:5000/api/live-occupancy')
      .then(res => res.json())
      .then(payload => {
        setSummaryData(payload.summary || []);
        setDetailsData(payload.details || {});
      })
      .catch(err => console.error('Occupancy fetch error:', err));
  }, []);

  return (
    <div className="App">
      <header className="App-header">
        <h1>Live Occupancy Dashboard</h1>
      </header>
      <main>
        <section>
          <h2>Occupancy Summary</h2>
          <SummaryChart summary={summaryData} /> {/* FIXED PROP */}
        </section>
        <section>
          <h2>Zone Details</h2>
          <ZoneDetailsTable data={detailsData} />
        </section>
      </main>
    </div>
  );
}

export default App;
