
// server.js (just after your `app.use('/api', ...)` lines)

console.log('\nðŸ“‹ Registered routes:');
app._router.stack
  .filter(layer => layer.route)
  .forEach(layer => {
    const methods = Object.keys(layer.route.methods).join(',').toUpperCase();
    console.log(`  ${methods}\t${layer.route.path}`);
  });
console.log();   // blank line




Select-String -Path .\routes\*.js -Pattern "http"


grep -R "http" routes/

cd C:\Users\W0024618\Desktop\swipeData\client
set NODE_OPTIONS=--openssl-legacy-provider
npm install        # only the first time
npm run build




cd C:\Users\W0024618\Desktop\swipeData\employee-ai-insights
npm install        # only the first time
node server.js


node .\employee-ai-insights\server.jsp


# 1. Go to the swipeData root
cd C:\Users\W0024618\Desktop\swipeData

# 2. Delete the incorrect node_modules and lockfile there
if (Test-Path .\node_modules) { rd /s /q .\node_modules }
if (Test-Path .\package-lock.json) { del .\package-lock.json }

# 3. Confirm theyâ€™re gone
ls
# You should NOT see node_modules or package-lock.json in this folder



// SwipeData/employee-ai-insights/server.js
const express = require('express');
const cors = require('cors');
const path = require('path');

const employeeRoutes = require('./routes/employeeRoutes');
const liveRt       = require('./routes/liveOccupancyRoutes');

const app = express();

app.use(cors());
app.use(express.json());
app.use('/api', employeeRoutes);
app.use('/api', liveRt);

const buildPath = path.join(__dirname, '..', 'client', 'build');
app.use(express.static(buildPath));
app.get('*', (req, res) => {
  res.sendFile(path.join(buildPath, 'index.html'));
});

const PORT = process.env.PORT || 5000;
app.listen(PORT, () => console.log(`Server running at http://localhost:${PORT}`));








C:\Users\W0024618\Desktop\swipeData\client>npm run build

> client@0.1.0 build
> set "NODE_OPTIONS=--openssl-legacy-provider" && react-scripts build

Creating an optimized production build...
(node:47940) [DEP0060] DeprecationWarning: The `util._extend` API is deprecated. Please use Object.assign() instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
Compiled successfully.

File sizes after gzip:

  200.59 KB  build\static\js\2.e49ba28d.chunk.js
  30.01 KB   build\static\css\2.de1632da.chunk.css
  1.71 KB    build\static\js\3.c67daa6d.chunk.js
  1.13 KB    build\static\js\runtime~main.e3c58c44.js
  1.09 KB    build\static\js\main.9ed49f10.chunk.js
  268 B      build\static\css\main.5ecd60fb.chunk.css

The project was built assuming it is hosted at the server root.
You can control this with the homepage field in your package.json.
For example, add this to build it for GitHub Pages:

  "homepage" : "http://myname.github.io/myapp",

The build folder is ready to be deployed.
You may serve it with a static server:

  serve -s build

Find out more about deployment here:

  https://bit.ly/CRA-deploy







